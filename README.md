## JobRecruitment

### 12.16 wjy更新
- 更新了私信页面发送图片的功能。

### 11.6 zzh更新
- 解决了前端加密的密文在后端解密失败的问题
- 实现了密文的哈希值在数据库的存取和验证
- 完善密钥管理，公钥直接嵌入前端脚本，私钥存储在服务器中
- 将密码合法性检查移到了前端

总的来说，完善了用户登录验证模块的密码安全性：
- 前端进行密码合法性检查，然后进行明文-SHA256哈希-RSA加密-Base64编码-符合URL传输的Base64编码的加密流程
- 后端进行符合URL传输的Base64编码-Base64编码-RSA解密-SHA256哈希值的解密流程
- 数据库中存储密码的SHA256哈希值
- 公钥直接嵌入前端脚本，私钥存储在服务器中


### 11.5 zzh更新
- 修改了登录、注册的bug
- 优化了登录、注册、重置密码界面UI，并给出密码提示；优化了主界面、职位搜索界面UI
- 完成了一部分前端加密和后端解密，但前端加密的密文在后端解密失败，发现是由于http传输过程中密文被篡改导致的（未完成，待完善）

待完成：
- 解决前端加密的密文在后端解密失败的问题

### 10.31 zzh更新
- 主要修改了登录、注册、部署到服务器的bug
- 尝试改变加密流程，更改为前端加密，后端解密，数据库中存储哈希值（未完成，待完善）

待完成：
- 前端加密，后端解密，数据库中存储哈希值

### 10.28 zzh更新

主要增强了用户登录验证模块的密码安全性
- 原始网站的数据库直接存储密码的md5哈希值
- 我增加了rsa加密和base64编码，用户密码先经过md5哈希，再通过rsa加密，最后进行base64编码，存储到数据库中
- 增加了常用简单密码检查，不允许用户重置密码时输入常用简单密码
- 增加了密码复杂度检查，要求用户密码长度达到八位，必须包含大小写字母和数字
- 增加了密码重复度检查，要求用户的新密码不能和原密码太过相似（待完善）

待完成：
- 完善密码重复度检查
- 考虑公钥、私钥如何妥善存储

### 10.22 zzh更新

部分实现了搜索功能（待完善）
- 实现最高薪资和最低薪资的搜索
- 优化了搜索前端UI

### 10.22 wjy更新

实现了敏感词审查

实现了使用ajax在前端对后端轮询的方式更新页面。

完成了私信页面的优化。
计划使用websocket实现实时刷新功能，为后续服务器部署作准备。

基本按照QQ界面完成了私信界面。

已完成：
- 两种方式导航到私信界面
- 联系人选择
- 当前联系人历史信息排序和显示
- 发送信息并滚动页面

待完成：
- 消息左右置顶，改变颜色
- 界面美化

### 10.21 wjy更新
完成了私信逻辑的实现。前端界面还未优化。

新增网站首页和个人首页进入私信板块内容。
修复了私信板块选择超级用户而非普通用户的bug。
（私信首页和发送还暂时还有bug）

### 10.20 zzh更新

- 修好了positionlist页面跳转第二页引起异常参数查询的bug
- position新增属性salary_min和salary_max，原salary改为这两个属性的平均值

### 10.20 wjy更新
新增私信板块PrivateMessage，可通过http://127.0.0.1:8000/privatemessage/inbox访问。


### 10.18 zzh更新

部分实现了搜索功能（待完善），前端界面未优化
- 实现基于职位名称关键词搜索
- 实现基于职位上班地点搜索

希望增加基于薪资搜索

### 快速启动

#### `local_settings.py`配置

由于项目中使用的一些配置均为敏感配置，因此建议您在`settings.py`的同级目录下新建文件`local_settings.py`文件用以存放这些配置。该文件中的配置会被导入并且覆盖`settings.py`中的配置。

#### 数据库迁移

在启动项目之前，你需要迁移数据库。此处以MySQL为例，在`JobRecruitment/local_settings.py`中配置你的数据库内容：

```python
# /JobRecruitment/local_settings.py
DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'jobrecruitment',  # 数据库名字
        'USER': '',  #用户名
        'PASSWORD': '', #用户密码
        'HOST': '127.0.0.1',  # MySQL 在哪个 ip
        'PORT': '3306',  # 端口号
    }
}
```

完成上述配置后，执行迁移数据库的操作：

```bash
python manage.py makemigrations
python manage.py migrate
```

为了便于操作数据库内容，你还可以创立超级用户来管理数据库内容：

```bash
python manage.py createsuperuser
```

#### 邮件通知配置

在`UserAuth`模块使用了邮箱验证码通知来完成新用户的注册校验，所以为了成功启动本项目，你需要在`local_settings.py`配置邮件通知。你需要生成邮箱服务授权码来授权Django以你的名义发送邮件。在QQ邮箱中，可以在`设置->账户`中生成授权码。

而后在`local_settings.py`中按如下说明配置：

```python
# 发送邮箱验证码
EMAIL_HOST = "smtp.qq.com"     # 服务器
EMAIL_PORT = 25                 # 一般情况下都为25
EMAIL_HOST_USER = "example@qq.com"     # 账号
EMAIL_HOST_PASSWORD = ""     # 您的授权码
EMAIL_USE_TLS = True       
EMAIL_FROM = "example@qq.com"      # 邮箱来自（这里是和账号一样的）
EMAIL_TITLE = '邮箱激活'	# 邮件标题
```

**请务必注意，为了隐私，不要将上述配置尤其是授权码放在`settings.py`传到git仓库中！**

完成上述配置后，即可启动服务（默认8000端口）：

```bash
python manage.py runserver
```

